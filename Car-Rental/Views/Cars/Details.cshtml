@model Car_Rental.Models.Car

@{
    ViewData["Title"] = "Car Details";
}

<h1>Car Details</h1>

<div>
    <h4>@Model.Brand @Model.Model (@Model.Year)</h4>
    <hr />
    <div class="row">
        <div class="col-md-4">
            @if (!string.IsNullOrEmpty(Model.ImageFileName))
            {
                <img src="~/images/cars/@Model.ImageFileName" alt="Car image" style="max-width:100%;" />
            }
        </div>
        <div class="col-md-8">
            <dl class="row">
                <dt class="col-sm-3">Category</dt>
                <dd class="col-sm-9">@Model.Category</dd>

                <dt class="col-sm-3">Status</dt>
                <dd class="col-sm-9">@Model.Status</dd>

                <dt class="col-sm-3">Daily rate</dt>
                <dd class="col-sm-9">@Model.DailyRate.ToString("C")</dd>
            </dl>
        </div>
    </div>
</div>

<p>
    <a asp-action="Index" class="btn btn-secondary">Back to list</a>

    @if (User.Identity?.IsAuthenticated == true && Model.Status == Car_Rental.Models.Enums.CarStatus.Available)
    {
        <a asp-controller="Rentals"
           asp-action="Create"
           asp-route-carId="@Model.Id"
           class="btn btn-primary ms-2">
            Rent this car
        </a>
    }

    @if (User.IsInRole("Admin") || User.IsInRole("Staff"))
    {
        <a asp-action="Edit" asp-route-id="@Model.Id" class="btn btn-warning ms-2">Edit</a>
        <a asp-action="Delete" asp-route-id="@Model.Id" class="btn btn-danger ms-2">Delete</a>
    }
</p>
