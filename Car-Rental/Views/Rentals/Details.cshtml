@model Car_Rental.Models.Rental

@{
    ViewData["Title"] = "Rental Details";
}

<h1>Rental Details</h1>

<div>
    <h4>Car</h4>
    <hr />
    <dl class="row">
        <dt class="col-sm-3">Car</dt>
        <dd class="col-sm-9">@Model.Car.Brand @Model.Car.Model (@Model.Car.Year)</dd>

        <dt class="col-sm-3">Customer</dt>
        <dd class="col-sm-9">@Model.User?.Email</dd>

        <dt class="col-sm-3">Start date</dt>
        <dd class="col-sm-9">@Model.StartDate.ToShortDateString()</dd>

        <dt class="col-sm-3">End date</dt>
        <dd class="col-sm-9">@Model.EndDate.ToShortDateString()</dd>

        <dt class="col-sm-3">Status</dt>
        <dd class="col-sm-9">@Model.Status</dd>

        <dt class="col-sm-3">Total price</dt>
        <dd class="col-sm-9">@Model.TotalPrice.ToString("C")</dd>

        <dt class="col-sm-3">Created at</dt>
        <dd class="col-sm-9">@Model.CreatedAt.ToString("g")</dd>
    </dl>
</div>

<p>
    <a asp-action="Index" class="btn btn-secondary">Back to list</a>
    @if ((User.IsInRole("Admin") || User.IsInRole("Staff")) && Model.Status == Car_Rental.Models.Enums.RentalStatus.Active)
    {
        <a asp-action="Return" asp-route-id="@Model.Id" class="btn btn-primary ms-2">Return</a>
    }
</p>
